pipeline {
    agent any
    stages {  
        stage ('SCM Checkout-clone-my-code') {
            steps {
               git branch: 'ci-cd-pipeline', url: "https://github.com/cuyogesh95/maven-project"
         }
        }
    
              
        stage ('install Stage') {
            steps
                {   
                    withSonarQubeEnv(credentialsId: 'sonarlocal') 
                        {
                            withMaven(jdk: 'localjdk-1.8', maven: 'localmaven')
                            {
                                sh 'clean mvn install sonar:sonar'
                             }
                        }
                  }                                 
              }
            }
    }      
}
